<ion-view cache-view="false" view-title="Create Set">
  <ion-content class="menu-content padding">
    <div class="item item-divider">Set Name</div>
    <label class="item item-input padding-bottom">
      <input type="text" placeholder="Set Name" ng-model="set.name">
    </label>
    <div class="item item-divider">New Question</div>
    <label class="item item-input">
      <input type="text" placeholder="Question" ng-model="question.question">
    </label>
    <label class="item item-input item-select">
      <div class="input-label">
        Answer type
      </div>
      <select ng-model="question.answerType">
        <option value="text">Text</option>
        <option value="choices">Choices</option>
      </select>
    </label>
    <label class="item item-input">
      <input type="text" placeholder="Answer" ng-model="question.answer">
    </label>

    <div class=""
      ng-if="question.answerType === 'choices'">
        <label class="item item-input">
          <input type="text" placeholder="choice" ng-model="question.newChoice">
        </label>
        <button class="button button-block button-balanced" type="button" ng-click="addChoice()">+</button>
        <div class="item item-divider" ng-if="question.choices.length > 0">Choices</div>
        <ion-list>
          <ion-item class="item-text-wrap" ng-repeat="choice in question.choices">
            <span ng-bind="choice"></span>
            <i class="icon ion-minus-circled assertive pull-right" ng-click="deleteChoice(choice)"></i>
          </ion-item>
        </ion-list>
    </div>
    <button class="button button-block button-balanced" type="button"
        ng-click="addQuestion()">Add Question</button>
    <div class="item item-divider" ng-if="set.questions.length > 0">Questions</div>
    <ion-list>
      <ion-item class="item-text-wrap"
        ng-repeat="question in set.questions">
          <i class="icon ion-minus-circled assertive pull-right" ng-click="deleteQuestion(question)"></i>
          <div class="">
            <b>Question:</b> {{ question.question }}
          </div>
          <div class="">
            <b>Answer:</b> {{ question.answer }}
          </div>
          <div class="" ng-if="question.choices">
            <div><b>Choices:</b></div>
            <ul class="padding-left">
              <li ng-repeat="(key, choice) in question.choices">
                <b>{{ key }}:</b> {{choice}}
              </li>
            </ul>
          </div>
      </ion-item>
    </ion-list>

    <button class="button button-block button-balanced" type="button"
      ng-click="addSet()">Add Set</button>
  </ion-content>
</ion-view>
